<!doctype html>
<html lang="sr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Pozivnica ü©µ</title>

  <style>
    :root{
      --light:#aeefff;
      --light2:#6fd4ff;
    }

    body{
      margin:0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
      min-height:100vh;
      display:flex;
      justify-content:center;
      align-items:center;
      color:#fff;
      overflow:hidden;
      background:#0b1220;
    }

    /* Dreamy fill sloj ispod */
    .bg-fill{
      position:fixed;
      inset:0;
      z-index:-3;
      background: url("photo.jpg") center / cover no-repeat;
      filter: blur(12px) brightness(0.45);
      transform: scale(1.12);
    }

    /* Cela slika vidljiva (contain) */
    body::before{
      content:"";
      position:fixed;
      inset:0;
      background: url("photo.jpg") center / contain no-repeat;
      filter: blur(3px) brightness(0.78);
      transform: scale(1.08);
      z-index:-2;
    }

    body::after{
      content:"";
      position:fixed;
      inset:0;
      background: rgba(0,0,0,0.30);
      z-index:-1;
    }

    .card{
      width:min(680px, 92vw);
      padding:28px 22px 24px;
      border-radius:26px;
      background: rgba(255,255,255,0.12);
      border: 1px solid rgba(255,255,255,0.25);
      backdrop-filter: blur(14px);
      text-align:center;
      box-shadow: 0 20px 60px rgba(0,0,0,0.55);
      position:relative;
    }

    h1{
      margin:0;
      font-size: clamp(22px, 3.6vw, 34px);
      font-weight: 900;
      text-shadow: 0 2px 18px rgba(0,0,0,.35);
      display:flex;
      justify-content:center;
      align-items:center;
      gap:10px;
      flex-wrap:wrap;
    }

    h2{
      margin:10px 0 0;
      font-size: clamp(16px, 2.6vw, 22px);
      font-weight: 700;
      color:#e9fbff;
      text-shadow: 0 2px 18px rgba(0,0,0,.35);
    }

    /* Veliko srce */
    .center{
      margin: 22px auto 10px;
      display:flex;
      justify-content:center;
      align-items:center;
      user-select:none;
    }

    .big-heart{
      width:130px;
      height:130px;
      cursor:pointer;
      filter: drop-shadow(0 0 22px rgba(174,239,255,.85));
      transition: transform 0.20s ease;
    }

    .big-heart:hover{
      transform: scale(1.08);
    }

    /* Dugmad: koristimo grid sa 2 kolone:
       levo je DA (stabilno), desno je "zona" gde Ne sme da be≈æi.
       Tako Ne nikad ne ide preko DA. */
    .row{
      margin-top: 20px;
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:12px;
      align-items:center;
    }

    .yes-wrap{
      display:flex;
      justify-content:center;
      align-items:center;
    }

    .no-zone{
      position:relative;
      height:56px; /* visina zone */
      display:flex;
      justify-content:center;
      align-items:center;
      overflow:hidden; /* Ne ne mo≈æe van desne zone */
      border-radius:16px;
    }

    button{
      border: none;
      padding: 14px 22px;
      border-radius: 16px;
      font-size: 17px;
      font-weight: 900;
      cursor: pointer;
      min-width: 160px;
      box-shadow: 0 12px 25px rgba(0,0,0,0.35);
      transition: transform 0.12s ease;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
      touch-action: manipulation;
    }

    button:hover{ transform: translateY(-2px); }

    .yes-btn{
      background: linear-gradient(135deg, var(--light), var(--light2));
      color: #002233;
    }

    .no-btn{
      background: rgba(255,255,255,0.10);
      color: #ffffff;
      border: 1px solid rgba(255,255,255,0.25);
      backdrop-filter: blur(8px);
      box-shadow: 0 12px 25px rgba(0,0,0,0.25);
      position:absolute; /* be≈æi samo u okviru desne zone */
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      will-change: left, top;
    }

    /* Secret i final poruke */
    .secret, .final{
      display:none;
      margin-top: 16px;
      padding: 14px;
      border-radius: 18px;
      background: rgba(0,0,0,0.35);
      border: 1px solid rgba(255,255,255,0.2);
      font-size: 15px;
      color: #e6f7ff;
    }

    /* Malo bolje za mobilni: ako je ekran uzak, stavi jedno ispod drugog
       i dalje: Ne ostaje ispod (ne preklapa DA) */
    @media (max-width: 520px){
      .row{ grid-template-columns: 1fr; }
      .no-zone{ margin: 0 auto; width: 100%; max-width: 320px; }
      .yes-wrap{ width:100%; }
    }
  </style>
</head>

<body>
  <div class="bg-fill"></div>

  <div class="card">
    <h1>Pozivnica za moju najlep≈°u Sa≈°icu ü©µ</h1>
    <h2>Hoƒáe≈° li biti moja Valentine?</h2>

    <div class="center">
      <svg class="big-heart" viewBox="0 0 24 24" onclick="toggleSecret()" aria-label="Secret poruka">
        <path
          d="M12 21s-7.2-4.6-9.7-8.7C.5 9 .9 5.8 3.4 4.1 5.5 2.7 8.2 3.1 10 5c1.8-1.9 4.5-2.3 6.6-.9 2.5 1.7 2.9 4.9 1.1 8.2C19.2 16.4 12 21 12 21z"
          fill="#aeefff"
        />
      </svg>
    </div>

    <div class="row">
      <div class="yes-wrap">
        <button class="yes-btn" onclick="acceptValentine()">DA ü©µ</button>
      </div>

      <!-- Desna zona za Ne: ne mo≈æe preko DA -->
      <div class="no-zone" id="noZone" aria-label="Zona za Ne dugme">
        <button class="no-btn" id="noBtn" type="button">Ne üòÖ</button>
      </div>
    </div>

    <div class="secret" id="secretBox">
      Sa≈°ice‚Ä¶ ti si moj najlep≈°i deo ≈æivota. ü©µ
    </div>

    <div class="final" id="finalBox"></div>
  </div>

  <script>
    const noBtn  = document.getElementById("noBtn");
    const noZone = document.getElementById("noZone");

    // Br≈æe be≈æanje + "cooldown" da ne mo≈æe≈° spam klik
    let lastMove = 0;
    const MOVE_COOLDOWN_MS = 120; // manji = br≈æe be≈æi
    const EDGE_PADDING = 6;

    // pomeri Ne na random poziciju unutar zone, ali dovoljno daleko od kursora
    function moveNo(avoidX, avoidY){
      const now = Date.now();
      if (now - lastMove < MOVE_COOLDOWN_MS) return;
      lastMove = now;

      const zone = noZone.getBoundingClientRect();
      const btn  = noBtn.getBoundingClientRect();

      const maxX = Math.max(EDGE_PADDING, zone.width  - btn.width  - EDGE_PADDING);
      const maxY = Math.max(EDGE_PADDING, zone.height - btn.height - EDGE_PADDING);

      // U zoninim koordinatama
      const ax = (avoidX != null) ? (avoidX - zone.left) : zone.width/2;
      const ay = (avoidY != null) ? (avoidY - zone.top)  : zone.height/2;

      // Poku≈°aj par puta da naƒëe poziciju koja nije blizu pokazivaƒça
      let x = 0, y = 0;
      let ok = false;
      for (let i=0; i<10; i++){
        x = Math.floor(Math.random() * maxX);
        y = Math.floor(Math.random() * maxY);

        const cx = x + btn.width/2;
        const cy = y + btn.height/2;
        const dist = Math.hypot(cx - ax, cy - ay);

        // minimalna udaljenost od pokazivaƒça (≈°to veƒáe = te≈æe kliknuti)
        if (dist > 90) { ok = true; break; }
      }
      // ako nije na≈°ao "daleko", uzmi ≈°ta ima
      noBtn.style.left = x + "px";
      noBtn.style.top  = y + "px";
      noBtn.style.transform = "translate(0,0)";
    }

    // Be≈æi ƒçim uƒëe≈° u zonu i dok se miƒçe≈°
    noZone.addEventListener("pointerenter", (e) => moveNo(e.clientX, e.clientY));
    noZone.addEventListener("pointermove",  (e) => moveNo(e.clientX, e.clientY));

    // Ako poku≈°a≈° klik ‚Äî be≈æi momentalno (i spreƒçi klik)
    noBtn.addEventListener("pointerdown", (e) => {
      e.preventDefault();
      e.stopPropagation();
      moveNo(e.clientX, e.clientY);
    });

    // Za svaki sluƒçaj: i na click be≈æi
    noBtn.addEventListener("click", (e) => {
      e.preventDefault();
      e.stopPropagation();
      moveNo(e.clientX, e.clientY);
    });

    // Start: centriraj Ne na sredinu zone
    window.addEventListener("load", () => {
      // postavi na sredinu (posle prvog layouta)
      const zone = noZone.getBoundingClientRect();
      const btn  = noBtn.getBoundingClientRect();
      const x = Math.max(EDGE_PADDING, (zone.width - btn.width) / 2);
      const y = Math.max(EDGE_PADDING, (zone.height - btn.height) / 2);
      noBtn.style.left = x + "px";
      noBtn.style.top  = y + "px";
      noBtn.style.transform = "translate(0,0)";
    });

    function toggleSecret(){
      const box = document.getElementById("secretBox");
      box.style.display = (box.style.display === "block") ? "none" : "block";
    }

    function acceptValentine(){
      const final = document.getElementById("finalBox");
      final.style.display = "block";
      final.innerHTML =
        "Jeeee! Zvaniƒçno: ti si moja Valentine ü©µ<br>Vidimo se uskoro‚Ä¶ Du≈°an üíå";
    }
  </script>
</body>
</html>
